@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========= Base reset ========= */
:root{
  --nav-h: 60px;
  --bottom-h: 56px;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: #f9fafb;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  overflow-x: hidden;
}

img { display: block; max-width: 100%; height: auto; }
h1,h2,h3,p { margin-top: 0; }

/* ========= Safe area between navbars ========= */
.main-content {
  padding-top: var(--nav-h);
  padding-bottom: calc(var(--bottom-h) + env(safe-area-inset-bottom, 0px));
}

/* Centered site wrapper â€” keeps desktop compact */
.site-container {
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  width: 100%;
  max-width: 1024px;
}

/* navbar / bottom nav helpers */
.navbar {
  @apply fixed top-0 left-0 w-full z-50 flex items-center justify-between bg-white shadow-md px-4;
  height: var(--nav-h);
}
.bottom-nav {
  @apply fixed bottom-0 left-0 w-full z-50 bg-white border-t shadow-sm flex justify-around items-center;
  height: var(--bottom-h);
}

/* Slider / image helpers */
.slider-img { width: 100%; aspect-ratio: 16/9; object-fit: cover; border-radius: 12px; }

/* Slick fixes */
.slick-slider, .slick-list { width: 100%; overflow: hidden; }
.slick-track { display: flex !important; align-items: stretch; }
.slick-slide { height: auto; }
.slick-slide > div { width: 100%; }
.slick-dots { bottom: 8px; }

/* ------------------------
   Station & restaurant thumbnails (1:1 square)
   ------------------------ */
.station-card,
.restaurant-card { display: flex; gap: 1rem; align-items: center; }

.station-image, .resto-image,
.station-thumb, .restro-thumb {
  width: 120px; height: 120px; flex-shrink: 0; border-radius: 8px; overflow: hidden; background: #eee;
}

.station-image img, .resto-image img, .station-thumb img, .restro-thumb img {
  width: 100%; height: 100%; object-fit: cover; display: block;
}

/* smaller on mobile */
@media (max-width: 640px) {
  .station-image, .resto-image { width: 88px; height: 88px; }
}

/* ------------------------
   Bubble spinner (for near-button spinner)
   ------------------------ */
.bubble-spinner {
  position: relative;
  width: 44px; height: 44px; border-radius: 9999px;
  display: inline-flex; align-items: center; justify-content: center;
  background: #fff; border: 1px solid rgba(0,0,0,0.08); box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}
.bubble-spinner .outer-ring {
  position: absolute; inset: 0; border-radius: 9999px; box-sizing: border-box;
  border: 3px solid rgba(0,0,0,0.06); border-top-color: rgba(0,0,0,0.18);
  animation: bubble-spin 0.9s linear infinite; z-index: 1;
}
.bubble-spinner .inner-logo { width: 60%; height: 60%; z-index: 2; pointer-events: none; }
@keyframes bubble-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ------------------------
   Global centered circular spinner with fixed inner logo
   ------------------------ */
#global-raileats-spinner {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 99999;
  display: none;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

/* show state */
#global-raileats-spinner.show {
  display: flex;
  animation: raileats-fade-in 160ms ease-out;
  pointer-events: all;
}

/* outer rotating blue ring (rotates) */
#global-raileats-spinner .outer-ring {
  width: 78px; height: 78px; border-radius: 9999px;
  border: 4px solid rgba(59,130,246,0.12);
  border-top-color: rgba(59,130,246,1);
  animation: raileats-ring-rotate 0.9s linear infinite;
  display: flex; align-items: center; justify-content: center;
  background: white; box-shadow: 0 10px 28px rgba(0,0,0,0.12);
  position: relative;
}

/* inner fixed logo (does not rotate) */
#global-raileats-spinner .inner-logo {
  width: 42px; height: 42px; border-radius: 9999px; overflow: hidden;
  display: flex; align-items: center; justify-content: center; z-index: 2; background: white;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}
#global-raileats-spinner .inner-logo img { width: 80%; height: 80%; object-fit: contain; display: block; transform: none !important; }

/* ring animation */
@keyframes raileats-ring-rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes raileats-fade-in { from { opacity: 0; transform: translate(-50%, -52%) scale(0.98); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }

/* responsive spinner sizes */
@media (max-width: 480px) {
  #global-raileats-spinner .outer-ring { width: 64px; height: 64px; border-width: 3px; }
  #global-raileats-spinner .inner-logo { width: 36px; height: 36px; }
}

/* ------------------------
   Autocomplete z-index fixes
   ------------------------ */
.station-search-dropdown, .station-search-dropdown * { z-index: 9999 !important; }
.relative-no-overflow { overflow: visible !important; }

/* small polish */
.form-card, .search-box-card { padding: 0.75rem; border-radius: 10px; }
